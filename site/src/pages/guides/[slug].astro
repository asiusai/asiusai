---
import '../../global.css'
import { getCollection, render } from 'astro:content'
import type { CollectionEntry } from 'astro:content'

export const getStaticPaths = async () => {
  const docs = await getCollection('docs')
  return docs.map((doc) => ({
    params: { slug: doc.id },
    props: { doc },
  }))
}

type Props = { doc: CollectionEntry<'docs'> }

const { doc } = Astro.props
const { Content } = await render(doc)
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<title>{doc.data.title} - Asius AI</title>
		<meta name="description" content={doc.data.description} />
	</head>
	<body class="min-h-screen bg-black text-white">
		<div class="relative overflow-hidden">
			<div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-purple-900/30 via-black to-black"></div>

			<div class="relative">
				<header class="container mx-auto px-6 py-8">
					<nav class="flex items-center justify-between">
						<a href="/" class="flex items-center gap-3">
							<img src="/asius-logo.svg" alt="Asius" class="h-8 w-auto" />
							<span class="text-2xl font-bold">Asius</span>
						</a>
						<div class="flex gap-6 text-sm text-gray-400">
							<a href="/docs" class="hover:text-white transition">Docs</a>
							<a href="https://github.com/asiusai" class="hover:text-white transition">GitHub</a>
						</div>
					</nav>
				</header>

				<main class="container mx-auto px-6 py-12 max-w-3xl">
					<a href="/docs" class="text-gray-400 hover:text-white transition text-sm mb-6 inline-flex items-center gap-2">
						<span>&larr;</span> Back to Docs
					</a>

					<article class="prose prose-invert prose-lg max-w-none prose-headings:font-bold prose-h1:text-4xl prose-h2:text-2xl prose-h2:mt-10 prose-h2:mb-4 prose-p:text-gray-300 prose-a:text-purple-400 prose-a:no-underline hover:prose-a:underline prose-code:bg-gray-800 prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:text-sm prose-code:before:content-none prose-code:after:content-none prose-pre:bg-gray-900 prose-pre:border prose-pre:border-gray-800 prose-li:text-gray-300">
						<h1>{doc.data.title}</h1>
						<p class="text-gray-400 text-xl mt-2 mb-8">{doc.data.description}</p>
						<Content />
					</article>
				</main>

				<footer class="container mx-auto px-6 py-12 border-t border-gray-800 mt-16">
					<div class="flex flex-col md:flex-row justify-between items-center gap-4 text-gray-500 text-sm">
						<span>Asius AI</span>
						<div class="flex gap-6">
							<a href="https://github.com/asiusai" class="hover:text-white transition">GitHub</a>
							<a href="https://api.asius.ai" class="hover:text-white transition">API</a>
						</div>
					</div>
				</footer>
			</div>
		</div>
	</body>
</html>
